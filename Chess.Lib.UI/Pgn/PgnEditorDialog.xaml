<dialogs:DialogView x:Class="Chess.Lib.UI.Pgn.PgnEditorDialog"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Chess.Lib.UI.Pgn"
						 xmlns:dialogs="clr-namespace:Common.Lib.UI.Dialogs;assembly=Common.Lib.UI"
						 xmlns:pgn="clr-namespace:Chess.Lib.UI.Pgn"
						 xmlns:conv="clr-namespace:Common.Lib.UI.Converters;assembly=Common.Lib.UI"
						 xmlns:ext="clr-namespace:Common.Lib.UI.Extensions;assembly=Common.Lib.UI"
						 xmlns:img="clr-namespace:Common.Lib.UI.Images;assembly=Common.Lib.UI"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800" Header="Export Game as PGN" DialogButtons="All" MinWidth="800" MinHeight="315" IsResizable="True"
						 MaxWidth="850">
	<dialogs:DialogView.Resources>
		<BooleanToVisibilityConverter x:Key="b2vc"/>
		<conv:InverseBooleanConverter x:Key="ibc"/>
	</dialogs:DialogView.Resources>
	<Grid>
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="380"/>
				<ColumnDefinition Width="*" MinWidth="380"/>
			</Grid.ColumnDefinitions>
			<local:PgnTagEditor Grid.Row="0" Grid.Column="0" DataContext="{Binding Tags}" Margin="0,0,3,0"/>
			<GroupBox Header="Moves" Grid.Row="1" Grid.Column="0">
				<TextBox Text="{Binding Moves}" Style="{StaticResource multiLine}" IsReadOnly="{Binding CanEditMoves,Converter={StaticResource ibc}}" MinHeight="80"/>
			</GroupBox>
			<GroupBox Grid.Row="0" Grid.Column="1" Grid.RowSpan="2"  Header="Resulting PGN">
				<TextBox Style="{StaticResource multiLine}" Text="{Binding ResultingPGN,Mode=OneWay}" IsReadOnly="True"/>
			</GroupBox>
			<DockPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" LastChildFill="False">
				<Button DockPanel.Dock="Right" Content="Close" Command="{Binding Command}" CommandParameter="cancel" IsCancel="True"/>
				<Button DockPanel.Dock="Right" Content="{Binding AcceptLabel}" Command="{Binding Command}" CommandParameter="ok" IsDefault="True"/>
				<CheckBox DockPanel.Dock="Right" Content="Include Empty Tags" IsChecked="{Binding IncludeEmptyTags}"/>
			</DockPanel>
		</Grid>
	</Grid>
</dialogs:DialogView>
